<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.example.product.mapper.ProductMapper">
  
<select id="findAll" resultType="com.example.product.domain.Product">
    SELECT product_id AS id, product_name AS name, price, stock, created_at AS createdAt
    FROM product
    ORDER BY product_id DESC
</select>

<select id="findById" resultType="com.example.product.domain.Product" parameterType="long">
    SELECT product_id AS id, product_name AS name, price, stock, created_at AS createdAt
    FROM product
    WHERE product_id = #{id}
</select>

<update id="update" parameterType="com.example.product.domain.Product">
    UPDATE product
    SET product_name = #{name},  <!-- DB 컬럼명에 맞춤 -->
        price = #{price},
        stock = #{stock}         <!-- stock 컬럼도 같이 업데이트 가능 -->
    WHERE product_id = #{id}     <!-- PK 컬럼명에 맞춤 -->
</update>


  
<insert id="insert" parameterType="com.example.product.domain.Product">
    INSERT INTO product (product_name, price, stock, created_at)
    VALUES (#{name}, #{price}, #{stock}, #{createdAt})
</insert>

	<!-- 수정 -->
<delete id="delete" parameterType="long">
    DELETE FROM product WHERE product_id = #{id}
</delete>

  
</mapper>